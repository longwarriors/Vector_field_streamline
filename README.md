# Vector_field_streamline
向量场的流线图和常微分方程有关。偶极子的静电静磁场线有解析解，非常简洁。对一般的数值场需要插值才能画场线。这里先用pyFEMM包对矩形磁铁的磁场进行数值求解，然后用自己开发的矢量场流线模块进行可视化，最终模拟出海尔贝克阵列（Halbach Array）的磁感线分布。
## 有限元静磁场求解器

### 海尔贝克阵列

海尔贝克阵列(Halbach Array)是一种特殊的磁铁排列方式，由物理学家Klaus Halbach在1980年代发明。其核心原理是通过特定排列磁铁的方向，使磁场在空间中的一侧增强，而在另一侧减弱或消除。这种排列有两种主要形式：

1. **线性海尔贝克阵列**：
   - 磁铁沿直线排列
   - 每个相邻磁铁的磁化方向旋转90度
   - 排列模式为：→ ↑ ← ↓ → ↑ ← ↓ ...（强侧向上时）
   - 或者：← ↑ → ↓ ← ↑ → ↓ ...（强侧向下时）
   - 结果是磁场在一侧（上方或下方）增强，在另一侧减弱

2. **环形海尔贝克阵列**：
   - 磁铁沿圆周排列
   - 每个磁铁的磁化方向旋转角度是其位置角的两倍再加上或减去90度
   - 结果是磁场在圆内部增强而外部减弱（强侧在内），或者外部增强而内部减弱（强侧在外）

### 应用场景

海尔贝克阵列有许多实际应用：

1. **粒子加速器**：用于聚焦带电粒子束
2. **无铁芯电动机**：创建高效的磁场配置
3. **磁悬浮系统**：提供更高效的悬浮力
4. **磁制冷设备**：创建强磁场区域
5. **无线充电系统**：提高磁场效率
6. **MRI系统**：提供更均匀的磁场
7. **磁性屏蔽**：在某些区域减少磁场干扰

这个实现使用了磁偶极子来模拟海尔贝克阵列中的个体磁铁。虽然实际的永磁体行为更复杂，但这个模型应该能够合理地展示海尔贝克阵列的基本磁场特性和工作原理。您可以通过调整参数（如磁铁数量、排列类型、强侧方向等）来探索不同配置的效果。